# T set composition data
# 4 car Tangara sets

T_SET_COMPOSITIONS = {
    'T1': ['D6105', 'N5105', 'N5106', 'D6106'],
    'T2': ['D6119', 'N5119', 'N5141', 'D6141'],
    'T3': ['D6253', 'N5253', 'N5254', 'D6254'],
    'T4': ['D6136', 'N5136', 'N5137', 'D6137'],
    'T5': ['D6118', 'N5118', 'N5140', 'D6140'],
    'T6': ['D6175', 'N5175', 'N5146', 'D6176'],
    'T7': ['D6191', 'N5191', 'N5192', 'D6192'],
    'T8': ['D6217', 'N5217', 'N5218', 'D6218'],
    'T9': ['D6219', 'N5219', 'N5220', 'D6220'],
    'T10': ['D6221', 'N5221', 'N5222', 'D6222'],
    'T11': ['D6163', 'N5163', 'N5164', 'D6164'],
    'T12': ['D6247', 'N5247', 'N5248', 'D6248'],
    'T13': ['D6252', 'N5249', 'N5250', 'D6250'],
    'T14': ['D6251', 'N5251', 'N5854', 'D6808'],
    'T15': ['D6239', 'N5239', 'N5240', 'D6240'],
    'T16': ['D6108', 'N5241', 'N5242', 'D6242'],
    'T17': ['D6243', 'N5243', 'N5244', 'D6244'],
    'T18': ['D6121', 'N5121', 'N5122', 'D6122'],
    'T19': ['D6146', 'N5176', 'N5285', 'D6285'],
    'T20': ['D6101', 'N5101', 'N5102', 'D6102'],
    'T21': ['D6120', 'N5120', 'N5142', 'D6142'],
    'T22': ['D6109', 'N5109', 'N5112', 'D6112'],
    'T23': ['D6177', 'N5177', 'N5178', 'D6178'],
    'T24': ['D6147', 'N5147', 'N5148', 'D6289'],
    'T25': ['D6149', 'N5149', 'N5150', 'D6150'],
    'T26': ['D6151', 'N5151', 'N5152', 'D6152'],
    'T27': ['D6125', 'N5125', 'N5126', 'D6126'],
    'T28': ['D6155', 'N5155', 'N5156', 'D6156'],
    'T29': ['D6157', 'N5157', 'N5158', 'D6158'],
    'T30': ['D6159', 'N5159', 'N5160', 'D6160'],
    'T31': ['D6161', 'N5161', 'N5162', 'D6162'],
    'T32': ['D6167', 'N5167', 'N5168', 'D6168'],
    'T33': ['D6165', 'N5165', 'N5166', 'D6166'],
    'T34': ['D6169', 'N5169', 'N5170', 'D6170'],
    'T35': ['D6179', 'N5179', 'N5180', 'D6180'],
    'T36': ['D6181', 'N5181', 'N5182', 'D6182'],
    'T37': ['D6183', 'N5183', 'N5184', 'D6184'],
    'T38': ['D6185', 'N5185', 'N5186', 'D6186'],
    'T39': ['D6187', 'N5187', 'N5188', 'D6188'],
    'T40': ['D6129', 'N5129', 'N5130', 'D6130'],
    'T41': ['D6189', 'N5189', 'N5190', 'D6190'],
    'T42': ['D6211', 'N5211', 'N5212', 'D6249'],
    'T43': ['D6193', 'N5193', 'N5194', 'D6194'],
    'T44': ['D6195', 'N5195', 'N5196', 'D6196'],
    'T45': ['D6197', 'N5197', 'N5198', 'D6198'],
    'T46': ['D6213', 'N5213', 'N5214', 'D6214'],
    'T47': ['D6201', 'N5201', 'N5202', 'D6202'],
    'T48': ['D6203', 'N5203', 'N5204', 'D6204'],
    'T49': ['D6215', 'N5215', 'N5216', 'D6216'],
    'T50': ['D6223', 'N5223', 'N5224', 'D6224'],
    'T51': ['D6235', 'N5235', 'N5236', 'D6236'],
    'T52': ['D6110', 'N5110', 'N5111', 'D6111'],
    'T53': ['D6173', 'N5173', 'N5174', 'D6174'],
    'T54': ['D6205', 'N5205', 'N5206', 'D6206'],
    'T57': ['D6237', 'N5237', 'N5238', 'D6238'],
    'T58': ['D6281', 'N5281', 'N5282', 'D6282'],
    'T59': ['D6283', 'N5283', 'N5284', 'D6284'],
    'T60': ['D6225', 'N5225', 'N5226', 'D6226'],
    'T61': ['D6227', 'N5227', 'N5228', 'D6228'],
    'T62': ['D6229', 'N5229', 'N5230', 'D6230'],
    'T63': ['D6231', 'N5231', 'N5232', 'D6232'],
    'T64': ['D6233', 'N5233', 'N5234', 'D6234'],
    'T65': ['D6245', 'N5245', 'N5246', 'D6246'],
    'T67': ['D6279', 'N5279', 'N5280', 'D6280'],
    'T68': ['D6277', 'N5277', 'N5278', 'D6278'],
    'T69': ['D6275', 'N5275', 'N5276', 'D6276'],
    'T70': ['D6103', 'N5103', 'N5104', 'D6104'],
    'T71': ['D6107', 'N5107', 'N5108', 'D6288'],
    'T72': ['D6209', 'N5209', 'N5210', 'D6210'],
    'T73': ['D6113', 'N5113', 'N5114', 'D6287'],
    'T74': ['D6115', 'N5115', 'N5116', 'D6116'],
    'T75': ['D6117', 'N5117', 'N5135', 'D6135'],
    'T76': ['D6123', 'N5123', 'N5124', 'D6124'],
    'T77': ['D6131', 'N5131', 'N5132', 'D6132'],
    'T78': ['D6133', 'N5133', 'N5134', 'D6134'],
    'T79': ['D6138', 'N5138', 'N5139', 'D6139'],
    'T80': ['D6143', 'N5143', 'N5144', 'D6144'],
    'T81': ['D6153', 'N5153', 'N5154', 'D6154'],
    'T83': ['D6171', 'N5171', 'N5172', 'D6172'],
    'T86': ['D6199', 'N5199', 'N5200', 'D6200'],
    'T88': ['D6207', 'N5207', 'N5208', 'D6208'],
    'T89': ['D6128', 'N5128', 'N5145', 'D6145'],
    'T90': ['D6255', 'N5255', 'N5256', 'D6256'],
    'T91': ['D6257', 'N5257', 'N5258', 'D6258'],
    'T92': ['D6259', 'N5259', 'N5260', 'D6260'],
    'T93': ['D6261', 'N5261', 'N5262', 'D6262'],
    'T94': ['D6263', 'N5263', 'N5264', 'D6264'],
    'T95': ['D6265', 'N5265', 'N5266', 'D6266'],
    'T96': ['D6267', 'N5267', 'N5268', 'D6268'],
    'T97': ['D6269', 'N5269', 'N5270', 'D6270'],
    'T98': ['D6271', 'N5271', 'N5272', 'D6272'],
    'T99': ['D6273', 'N5274', 'N5273', 'D6286'],
    'T100': ['D6839', 'N5820', 'N5870', 'D6840'],
    'T101': ['D6815', 'N5808', 'N5858', 'D6816'],
    'T102': ['D6801', 'N5801', 'N5856', 'D6812'],
    'T103': ['D6841', 'N5812', 'N5862', 'D6824'],
    'T104': ['D6825', 'N5813', 'N5863', 'D6826'],
    'T105': ['D6827', 'N5814', 'N5864', 'D6828'],
    'T106': ['D6829', 'N5815', 'N5865', 'D6830'],
    'T107': ['D6803', 'N5802', 'N5852', 'D6804'],
    'T108': ['D6837', 'N5819', 'N5869', 'D6838'],
    'T109': ['D6802', 'N5851', 'N5806', 'D6811'],
    'T110': ['D6817', 'N5809', 'N5859', 'D6818'],
    'T121': ['D6807', 'N5804', 'N5252', 'D6148'],
    'T122': ['D6809', 'N5805', 'N5855', 'D6810'],
    'T125': ['D6805', 'N5803', 'N5853', 'D6806'],
    'T126': ['D6813', 'N5807', 'N5857', 'D6814'],
    'T127': ['D6819', 'N5810', 'N5860', 'D6820'],
    'T128': ['D6821', 'N5811', 'N5861', 'D6822'],
    'T129': ['D6833', 'N5817', 'N5867', 'D6834'],
    'T130': ['D6835', 'N5818', 'N5868', 'D6836'],
}

# Build reverse lookup: carriage number -> set number
T_CARRIAGE_TO_SET = {}
for set_name, carriages in T_SET_COMPOSITIONS.items():
    for carriage in carriages:
        T_CARRIAGE_TO_SET[carriage.upper()] = set_name